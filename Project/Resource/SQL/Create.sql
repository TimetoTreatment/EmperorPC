CREATE TABLE BUYER
(
	ID INT PRIMARY KEY,
	NAME CHAR(20) NOT NULL,
	PHONE CHAR(20),
	ADDRESS CHAR(50),
);

INSERT INTO BUYER VALUES (1204, 'Cassandra', '01047786877', 'Atlanta');
INSERT INTO BUYER VALUES (2396, 'Victor', NULL, 'Omaha');
INSERT INTO BUYER VALUES (3126, 'Donald', '01021062753', 'Auston');
INSERT INTO BUYER VALUES (3574, 'Rodney', NULL, NULL);
INSERT INTO BUYER VALUES (4105, 'Maurice', '01038926858', 'Portland');
INSERT INTO BUYER VALUES (4154, 'Carroll', '01031352345', 'Texas');
INSERT INTO BUYER VALUES (4573, 'Stuart', NULL, 'Chicago');
INSERT INTO BUYER VALUES (4978, 'Maggie', '01070345768', 'Houston');
INSERT INTO BUYER VALUES (5372, 'Mitchell', '01028293607', 'Washinton');
INSERT INTO BUYER VALUES (9942, 'Alexander', '01049098418', NULL);

CREATE TABLE SELLER
(
	ID INT PRIMARY KEY,
	NAME CHAR(20) NOT NULL,
	PHONE CHAR(20)
);

INSERT INTO SELLER VALUES (1120, 'Raymond', '01088352114');
INSERT INTO SELLER VALUES (1635, 'Geneva', NULL);
INSERT INTO SELLER VALUES (2960, 'Marcos', '01026096509');
INSERT INTO SELLER VALUES (2974, 'Homer', NULL);
INSERT INTO SELLER VALUES (3590, 'Calvin', '01054928981');
INSERT INTO SELLER VALUES (4072, 'Trevor', '01063555579');
INSERT INTO SELLER VALUES (4437, 'Megan', NULL);
INSERT INTO SELLER VALUES (5521, 'Maggie', '01075957726');
INSERT INTO SELLER VALUES (6599, 'Carmen', '01084333624');
INSERT INTO SELLER VALUES (7289, 'Pete', '01021776059');

CREATE TABLE CPU
(
	ID INT PRIMARY KEY,
	MANUFACTURER CHAR(20) NOT NULL,
	NAME CHAR(50) NOT NULL,
	PRICE INT NOT NULL CHECK (PRICE >= 0),
	CODENAME CHAR(20),
	GENERATION INT,
	INTEGRATEDGRAPHICS CHAR(20),
	FREQUENCY FLOAT NOT NULL
);

INSERT INTO CPU VALUES (1748, 'Intel', 'i5-9400F', 190000, 'i5', 9, NULL, 3.8);
INSERT INTO CPU VALUES (1995, 'Intel', 'i5-9600KF', 230000, 'i5', 9, NULL, 4.3);
INSERT INTO CPU VALUES (2034, 'Intel', 'i5-9600K', 250000, 'i5', 9, 'UHD 630', 4.3);
INSERT INTO CPU VALUES (4913, 'Intel', 'i7-9700K', 400000, 'i7', 9, 'UHD 630', 4.3);
INSERT INTO CPU VALUES (5078, 'Intel', 'G6400', 97000, 'Pentium', 10, 'UHD 610', 3.8);
INSERT INTO CPU VALUES (5107, 'Intel', 'G6605', 115000, 'Pentium', 10, 'UHD 630', 4.0);
INSERT INTO CPU VALUES (5232, 'Intel', 'i3-10100F', 110000, 'i3', 10, NULL, 3.8);
INSERT INTO CPU VALUES (5235, 'Intel', 'i3-10100', 120000, 'i3', 10, 'UHD 630', 3.8);
INSERT INTO CPU VALUES (5598, 'Intel', 'i5-11400', 270000, 'i5', 11, 'UHD 730', 4.1);
INSERT INTO CPU VALUES (6297, 'Intel', 'i5-11500', 280000, 'i5', 11, 'UHD 750', 4.2);
INSERT INTO CPU VALUES (7101, 'Intel', 'i5-11600KF', 290000, 'i5', 11, NULL, 4.6);
INSERT INTO CPU VALUES (7691, 'Intel', 'i7-11700K', 460000, 'i7', 11, 'UHD 750', 4.6);
INSERT INTO CPU VALUES (8035, 'Intel', 'i9-11900K', 660000, 'i9', 11, 'UHD 750', 5.0);
INSERT INTO CPU VALUES (8068, 'AMD', '4350G', 220000, 'Renoir', 3, 'Radeon 6', 3.9);
INSERT INTO CPU VALUES (9121, 'AMD', '5600X', 340000, 'Vermeer', 4, NULL, 4.3);

CREATE TABLE RAM
(
	ID INT PRIMARY KEY,
	MANUFACTURER CHAR(20) NOT NULL,
	NAME CHAR(50) NOT NULL,
	PRICE INT NOT NULL CHECK (PRICE >= 0),
	CAPACITY INT NOT NULL,
	FREQUENCY INT NOT NULL
);

INSERT INTO RAM VALUES (1077, 'Samsung', 'SAMSUNG DDR4-2933', 34000, 8, 2933);
INSERT INTO RAM VALUES (1931, 'Samsung', 'SAMSUNG DDR4-2933 Package', 68000, 16, 2933);
INSERT INTO RAM VALUES (2558, 'GeiL', 'DDR4-3200 PRISTINE', 36000, 8, 3200);
INSERT INTO RAM VALUES (2754, 'GeiL', 'DDR4-3200 PRISTINE Package', 69000, 16, 3200);
INSERT INTO RAM VALUES (3725, 'Micron', 'Crucial DDR4-3200 CL22', 40000, 8, 3200);
INSERT INTO RAM VALUES (4238, 'Micron', 'Crucial Ballistix DDR4-3200', 44000, 8, 3200);
INSERT INTO RAM VALUES (5651, 'SKhynix', 'KLEVV DDR4-3200 RGB', 120000, 16, 3200);
INSERT INTO RAM VALUES (6645, 'SKhynix', 'KLEVV DDR4-3200 RGB Package', 210000, 32, 3200);
INSERT INTO RAM VALUES (7675, 'G.Skill', 'DDR4-3200 TRIDENT Z', 180000, 16, 3200);
INSERT INTO RAM VALUES (9720, 'G.Skill', 'DDR4-3200 TRIDENT Z Package', 340000, 32, 3200);

CREATE TABLE VGA
(
	ID INT PRIMARY KEY,
	MANUFACTURER CHAR(20) NOT NULL,
	NAME CHAR(50) NOT NULL,
	PRICE INT NOT NULL CHECK (PRICE >= 0),
	VRAM INT NOT NULL,
	STREAMPROCESSOR INT
);

INSERT INTO VGA VALUES (1054, 'NVIDIA', 'GTX 1650 UDV D6 4GB', 250000, 4, 896);
INSERT INTO VGA VALUES (1182, 'NVIDIA', 'GTX 1660 D5 6GB', 320000, 6, 1408);
INSERT INTO VGA VALUES (2560, 'NVIDIA', 'GTX 1070 ARMOR D5 8GB', 360000, 8, 1920);
INSERT INTO VGA VALUES (2616, 'NVIDIA', 'RTX 3060 D6 12GB', 440000, 12, 3584);
INSERT INTO VGA VALUES (2633, 'NVIDIA', 'RTX 3060 Ti D6 8GB', 520000, 8, 4864);
INSERT INTO VGA VALUES (3845, 'NVIDIA', 'RTX 3070 Founders Edition D6 8GB', 780000, 8, 5888);
INSERT INTO VGA VALUES (4749, 'NVIDIA', 'RTX 3070 TWIN Edge D6 8GB', 790000, 8, 5888);
INSERT INTO VGA VALUES (5030, 'NVIDIA', 'RTX 3070 Gamer WHITE D6 8GB', 810000, 8, 5888);
INSERT INTO VGA VALUES (5082, 'NVIDIA', 'RTX 3080 BLACK EDITION D6X 10GB', 1020000, 10, 8704);
INSERT INTO VGA VALUES (6189, 'NVIDIA', 'RTX 3080 White D6X 10GB', 1040000, 10, 8704);
INSERT INTO VGA VALUES (7368, 'NVIDIA', 'RTX 3090 D6X 24GB', 1940000, 24, 10496);
INSERT INTO VGA VALUES (8433, 'AMD', 'RX 6700 XT D6 12GB', 580000, 12, 2560);
INSERT INTO VGA VALUES (9731, 'AMD', 'FX 6800 OC D6 16GB', 700000, 16, 3840);

CREATE TABLE POWERSUPPLY
(
	ID INT PRIMARY KEY,
	MANUFACTURER CHAR(20) NOT NULL,
	NAME CHAR(50) NOT NULL,
	PRICE INT NOT NULL CHECK (PRICE >= 0),
	POWEROUTPUT INT NOT NULL,
	EFFICIENCY INT
);

INSERT INTO POWERSUPPLY VALUES (2030, 'SuperFlower', 'SF-650 LEADEX SILVER', 70000, 650, 87);
INSERT INTO POWERSUPPLY VALUES (2098, 'SuperFlower', 'SF-600 STANDARD', 56000, 600, 80);
INSERT INTO POWERSUPPLY VALUES (4555, 'Micronics', 'Classic II 500W', 48000, 500, 82);
INSERT INTO POWERSUPPLY VALUES (6680, 'Micronics', 'Classic II 600W', 58000, 600, 82);
INSERT INTO POWERSUPPLY VALUES (6755, 'FSP', 'HYPER K 500W', 44000, 500, 82);
INSERT INTO POWERSUPPLY VALUES (6908, 'FSP', 'HYPER G PRO 750W GOLD', 120000, 750, 90);
INSERT INTO POWERSUPPLY VALUES (6957, 'Seasonic', 'SSR-600RA', 56000, 600, 80);
INSERT INTO POWERSUPPLY VALUES (7963, 'Seasonic', 'FOCUS GOLD GM-850', 140000, 850, 90);
INSERT INTO POWERSUPPLY VALUES (8065, 'Cooler Master', 'MWE 600 BRONZE', 55000, 600, 82);
INSERT INTO POWERSUPPLY VALUES (8149, 'Cooler Master', 'MWE 700 BRONZE V2', 70000, 700, 82);
INSERT INTO POWERSUPPLY VALUES (8827, 'Antec', 'NE650C 80PLUS BRONZE', 75000, 650, 82);
INSERT INTO POWERSUPPLY VALUES (9513, 'Antec', 'NeoECO 850W PLATINUM', 177000, 850, 92);

CREATE TABLE SSD
(
	ID INT PRIMARY KEY,
	MANUFACTURER CHAR(20) NOT NULL,
	NAME CHAR(20) NOT NULL,
	PRICE INT NOT NULL CHECK (PRICE >= 0),
	CAPACITY INT NOT NULL,
	PERFORMANCE INT
);

INSERT INTO SSD VALUES (1346, 'Samsung', '870 EVO', 50000, 250, 500);
INSERT INTO SSD VALUES (2265, 'Samsung', '870 EVO', 80000, 500, 550);
INSERT INTO SSD VALUES (2935, 'Samsung', '870 EVO', 160000, 1000, 550);
INSERT INTO SSD VALUES (4299, 'Samsung', '970 EVO M.2', 100000, 500, 3000);
INSERT INTO SSD VALUES (4495, 'Samsung', '970 EVO M.2', 190000, 1000, 3000);
INSERT INTO SSD VALUES (5948, 'Samsung', '980 PRO M.2', 170000, 500, 6000);
INSERT INTO SSD VALUES (6001, 'Samsung', '980 PRO M.2', 280000, 1000, 6000);
INSERT INTO SSD VALUES (6715, 'Micron', 'MX500', 45000, 250, 530);
INSERT INTO SSD VALUES (7818, 'Micron', 'MX500', 70000, 500, 530);
INSERT INTO SSD VALUES (8148, 'Micron', 'MX500', 130000, 1000, 530);
INSERT INTO SSD VALUES (8573, 'SKhynix', 'Gold P31', 98000, 500, 3000);
INSERT INTO SSD VALUES (9860, 'SKhynix', 'Gold P31', 198000, 1000, 3000);

CREATE TABLE HDD
(
	ID INT PRIMARY KEY,
	MANUFACTURER CHAR(20) NOT NULL,
	NAME CHAR(30) NOT NULL,
	PRICE INT NOT NULL CHECK (PRICE >= 0),
	CAPACITY INT NOT NULL,
	RPM INT
);

INSERT INTO HDD VALUES (1220, 'Seagate', 'BarraCuda 5400/256M', 120000, 4000, 5400);
INSERT INTO HDD VALUES (2116, 'Seagate', 'BarraCuda 5400/256M', 190000, 6000, 5400);
INSERT INTO HDD VALUES (2522, 'Seagate', 'BarraCuda 7200/64M', 57000, 1000, 7200);
INSERT INTO HDD VALUES (3731, 'Seagate', 'BarraCuda 7200/64M', 78000, 2000, 7200);
INSERT INTO HDD VALUES (4882, 'Western Digital', 'WE BLUE 5400/64M', 63000, 2000, 5400);
INSERT INTO HDD VALUES (6062, 'Western Digital', 'WE BLUE 5400/64M', 100000, 3000, 5400);
INSERT INTO HDD VALUES (7844, 'Western Digital', 'WE BLUE 5400/64M', 120000, 4000, 5400);
INSERT INTO HDD VALUES (8314, 'Western Digital', 'WE BLUE 5400/64M', 230000, 6000, 5400);
INSERT INTO HDD VALUES (9156, 'Toshiba', 'N300 7200/128M', 150000, 4000, 7200);
INSERT INTO HDD VALUES (9621, 'Toshiba', 'N300 7200/128M', 240000, 6000, 7200);

CREATE TABLE COMPUTER
(
	ID INT PRIMARY KEY,
	PURPOSE CHAR(20),
	PRICE INT CHECK (PRICE >= 0),
	UPPERCOMPATIBILITY INT DEFAULT NULL FOREIGN KEY REFERENCES COMPUTER(ID)
		ON UPDATE NO ACTION ON DELETE NO ACTION,
	CPUID INT NOT NULL FOREIGN KEY REFERENCES CPU(ID)
		ON UPDATE CASCADE,
	RAMID INT NOT NULL FOREIGN KEY REFERENCES RAM(ID)
		ON UPDATE CASCADE,
	VGAID INT FOREIGN KEY REFERENCES VGA(ID)
		ON UPDATE CASCADE,
	POWERID INT NOT NULL FOREIGN KEY REFERENCES POWERSUPPLY(ID)
		ON UPDATE CASCADE,
);

INSERT INTO COMPUTER VALUES (9330, 'Workstation', 3747000, NULL, 8035, 6645, 7368, 9513);
INSERT INTO COMPUTER VALUES (8292, 'Workstation', 1872000, NULL, 7691, 1931, NULL, 6755);
INSERT INTO COMPUTER VALUES (6143, 'Gaming', 2630000, NULL, 8035, 9720, 6189, 7963);
INSERT INTO COMPUTER VALUES (5421, 'Gaming', 1790000, 6143, 7691, 5651, 5030, 6908);
INSERT INTO COMPUTER VALUES (5176, 'Gaming', 1107000, 5421, 7101, 2754, 2633, 2030);
INSERT INTO COMPUTER VALUES (4271, 'Gaming', 815000, 5176, 7101, 2754, 1182, 6957);
INSERT INTO COMPUTER VALUES (4157, 'Office', 474000, NULL, 5598, 2754, NULL, 8065); -- Actual price = 574000
INSERT INTO COMPUTER VALUES (2997, 'Office', 441000, 4157, 5598, 2558, NULL, 8065);
INSERT INTO COMPUTER VALUES (2022, 'Office', 439000, 2997, 8068, 1931, NULL, 6755);
INSERT INTO COMPUTER VALUES (1150, 'Office', 252000, 2022, 5235, 1077, NULL, 4555);

CREATE TABLE PURCHASEORDER
(
	ID INT PRIMARY KEY,
	REMAININGDAYS INT NOT NULL DEFAULT 7 CHECK(REMAININGDAYS > 0),
	QUANTITY INT NOT NULL DEFAULT 1 CHECK (QUANTITY > 0),
	TOTALCOST INT NOT NULL CHECK (TOTALCOST >= 0),
	BUYERID INT NOT NULL FOREIGN KEY REFERENCES BUYER(ID)
		ON UPDATE CASCADE,
	COMPUTERID INT NOT NULL FOREIGN KEY REFERENCES COMPUTER(ID) 
		ON UPDATE CASCADE,
);

INSERT INTO PURCHASEORDER VALUES (1672, 7, 1, 574000, 2396, 4157);
INSERT INTO PURCHASEORDER VALUES (2296, 5, 1, 252000, 3126, 1150);
INSERT INTO PURCHASEORDER VALUES (2378, 7, 2, 3580000, 2396, 5421);
INSERT INTO PURCHASEORDER VALUES (2818, 4, 1, 1872000, 3574, 8292);
INSERT INTO PURCHASEORDER VALUES (3125, 7, 1, 3747000, 1204, 9330);
INSERT INTO PURCHASEORDER VALUES (3864, 7, 1, 1107000, 9942, 5176);
INSERT INTO PURCHASEORDER VALUES (4511, 1, 10, 5740000, 4978, 4157);
INSERT INTO PURCHASEORDER VALUES (6072, 2, 1, 1790000, 4573, 5421);
INSERT INTO PURCHASEORDER VALUES (8207, 5, 1, 441000, 4573, 2997);
INSERT INTO PURCHASEORDER VALUES (9967, 7, 50, 22050000, 5372, 2997);

CREATE TABLE BID
(
	ID INT PRIMARY KEY,
	SELLERID INT NOT NULL FOREIGN KEY REFERENCES SELLER(ID)
		ON UPDATE CASCADE,
	ORDERID INT NOT NULL FOREIGN KEY REFERENCES PURCHASEORDER(ID)
		ON UPDATE CASCADE,
	PRICE INT NOT NULL
);

INSERT INTO BID VALUES (2149, 1120, 1672, 570000);
INSERT INTO BID VALUES (4056, 1120, 2378, 3570000);
INSERT INTO BID VALUES (4731, 1635, 2378, 3569990);
INSERT INTO BID VALUES (5389, 2974, 2818, 1870000);
INSERT INTO BID VALUES (5700, 2974, 3125, 3740000);
INSERT INTO BID VALUES (6499, 2960, 3125, 3680000);
INSERT INTO BID VALUES (7631, 5521, 3864, 1100000);
INSERT INTO BID VALUES (7922, 6599, 4511, 5740000);
INSERT INTO BID VALUES (8341, 7289, 4511, 5730000);
INSERT INTO BID VALUES (8916, 2960, 4511, 5725000);
INSERT INTO BID VALUES (9222, 4072, 6072, 1785000);
INSERT INTO BID VALUES (9363, 4072, 8207, 441000);
INSERT INTO BID VALUES (9491, 7289, 9967, 21000000);

CREATE TABLE ASSERVICE
(
	BUYERID INT NOT NULL,
	SERVICENAME CHAR(50) NOT NULL,
	REMAININGDAYS INT NOT NULL,

	PRIMARY KEY (BUYERID, SERVICENAME),
	FOREIGN KEY (BUYERID) REFERENCES BUYER(ID)
		ON UPDATE CASCADE ON DELETE CASCADE
);

INSERT INTO ASSERVICE VALUES (2396, '1-Year Warranty', 214);
INSERT INTO ASSERVICE VALUES (1204, '2-Year Warranty', 728);
INSERT INTO ASSERVICE VALUES (3574, '365 Trip Service', 16);
INSERT INTO ASSERVICE VALUES (4573, '365 Trip Service', 329);
INSERT INTO ASSERVICE VALUES (4978, 'FiveYear A/S', 1209);

CREATE TABLE RAM_PACKAGING
(
	CONTAINERID INT NOT NULL,
	PARTID INT NOT NULL,
	QUANTITY INT NOT NULL CHECK (QUANTITY >= 2),

	PRIMARY KEY (CONTAINERID, PARTID),
	FOREIGN KEY (CONTAINERID) REFERENCES RAM(ID),
	FOREIGN KEY (PARTID) REFERENCES RAM(ID)
)

INSERT INTO RAM_PACKAGING VALUES (1931, 1077, 2);
INSERT INTO RAM_PACKAGING VALUES (2754, 2558, 2);
INSERT INTO RAM_PACKAGING VALUES (6645, 5651, 2);
INSERT INTO RAM_PACKAGING VALUES (9720, 7675, 2);

CREATE TABLE HAS_SSD
(
	COMPUTERID INT NOT NULL,
	SSDID INT NOT NULL,
	QUANTITY INT NOT NULL DEFAULT 1 CHECK(QUANTITY > 0),

	PRIMARY KEY (COMPUTERID, SSDID),
	FOREIGN KEY (COMPUTERID) REFERENCES COMPUTER(ID)
		ON UPDATE CASCADE ON DELETE CASCADE,
	FOREIGN KEY (SSDID) REFERENCES SSD(ID)
		ON UPDATE CASCADE ON DELETE CASCADE
);

INSERT INTO HAS_SSD VALUES (1150, 1346, 1);
INSERT INTO HAS_SSD VALUES (2022, 1346, 1);
INSERT INTO HAS_SSD VALUES (2997, 2265, 1);
INSERT INTO HAS_SSD VALUES (4157, 1346, 1);
INSERT INTO HAS_SSD VALUES (4157, 8148, 1);
INSERT INTO HAS_SSD VALUES (4271, 2265, 1);
INSERT INTO HAS_SSD VALUES (5176, 2265, 1);
INSERT INTO HAS_SSD VALUES (5421, 6001, 1);
INSERT INTO HAS_SSD VALUES (6143, 4299, 1);
INSERT INTO HAS_SSD VALUES (6143, 2935, 1);
INSERT INTO HAS_SSD VALUES (8292, 4299, 1);
INSERT INTO HAS_SSD VALUES (9330, 4495, 4);

CREATE TABLE HAS_HDD
(
	COMPUTERID INT NOT NULL,
	HDDID INT NOT NULL,
	QUANTITY INT NOT NULL DEFAULT 1 CHECK(QUANTITY > 0),

	PRIMARY KEY (COMPUTERID, HDDID),
	FOREIGN KEY (COMPUTERID) REFERENCES COMPUTER(ID)
		ON UPDATE CASCADE ON DELETE CASCADE,
	FOREIGN KEY (HDDID) REFERENCES HDD(ID)
		ON UPDATE CASCADE ON DELETE CASCADE
);

INSERT INTO HAS_HDD VALUES (2022, 2522, 1);
INSERT INTO HAS_HDD VALUES (5176, 3731, 1);
INSERT INTO HAS_HDD VALUES (6143, 2116, 1);
INSERT INTO HAS_HDD VALUES (8292, 1220, 10);